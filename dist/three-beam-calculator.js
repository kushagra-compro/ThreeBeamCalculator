(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["Calculator"] = factory();
	else
		root["Calculator"] = factory();
})((typeof self !== 'undefined' ? self : this), function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/three-beam-calc-module.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./assets/SteelLibraryDataSchema.json":
/*!********************************************!*\
  !*** ./assets/SteelLibraryDataSchema.json ***!
  \********************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, default */
/***/ (function(module) {

eval("module.exports = JSON.parse(\"[{\\\"id\\\":\\\"d85417cdab81451589c9765f5dc53477\\\",\\\"beamLabel\\\":\\\"(3)-S3x5.7#\\\",\\\"priority\\\":3,\\\"Shape\\\":\\\"S\\\",\\\"height\\\":3,\\\"weightPerUnitLength\\\":5.7,\\\"momentOfInertia_I\\\":2.5,\\\"sectionModulus_Zu\\\":1.67},{\\\"id\\\":\\\"d85417cdab81451589c9765f5dc53477\\\",\\\"beamLabel\\\":\\\"(3)-S3x7.5#\\\",\\\"priority\\\":3,\\\"Shape\\\":\\\"S\\\",\\\"height\\\":3,\\\"weightPerUnitLength\\\":7.5,\\\"momentOfInertia_I\\\":2.91,\\\"sectionModulus_Zu\\\":1.94},{\\\"id\\\":\\\"d85417cdab81451589c9765f5dc53477\\\",\\\"beamLabel\\\":\\\"(3)-S4x7.7#\\\",\\\"priority\\\":3,\\\"Shape\\\":\\\"S\\\",\\\"height\\\":4,\\\"weightPerUnitLength\\\":7.7,\\\"momentOfInertia_I\\\":6.05,\\\"sectionModulus_Zu\\\":3.03},{\\\"id\\\":\\\"d85417cdab81451589c9765f5dc53477\\\",\\\"beamLabel\\\":\\\"(3)-S4x9.5#\\\",\\\"priority\\\":3,\\\"Shape\\\":\\\"S\\\",\\\"height\\\":4,\\\"weightPerUnitLength\\\":9.5,\\\"momentOfInertia_I\\\":6.76,\\\"sectionModulus_Zu\\\":3.38},{\\\"id\\\":\\\"d85417cdab81451589c9765f5dc53477\\\",\\\"beamLabel\\\":\\\"(3)-S5x10#\\\",\\\"priority\\\":3,\\\"Shape\\\":\\\"S\\\",\\\"height\\\":5,\\\"weightPerUnitLength\\\":10,\\\"momentOfInertia_I\\\":12.3,\\\"sectionModulus_Zu\\\":4.9},{\\\"id\\\":\\\"d85417cdab81451589c9765f5dc53477\\\",\\\"beamLabel\\\":\\\"(3)-S6x12.5#\\\",\\\"priority\\\":3,\\\"Shape\\\":\\\"S\\\",\\\"height\\\":6,\\\"weightPerUnitLength\\\":12.5,\\\"momentOfInertia_I\\\":22,\\\"sectionModulus_Zu\\\":7.34},{\\\"id\\\":\\\"d85417cdab81451589c9765f5dc53477\\\",\\\"beamLabel\\\":\\\"(3)-S6x17.2#\\\",\\\"priority\\\":3,\\\"Shape\\\":\\\"S\\\",\\\"height\\\":6,\\\"weightPerUnitLength\\\":17.2,\\\"momentOfInertia_I\\\":26.2,\\\"sectionModulus_Zu\\\":8.74},{\\\"id\\\":\\\"d85417cdab81451589c9765f5dc53477\\\",\\\"beamLabel\\\":\\\"(3)-S8x18.4#\\\",\\\"priority\\\":2,\\\"Shape\\\":\\\"S\\\",\\\"height\\\":8,\\\"weightPerUnitLength\\\":18.4,\\\"momentOfInertia_I\\\":57.5,\\\"sectionModulus_Zu\\\":14.4},{\\\"id\\\":\\\"d85417cdab81451589c9765f5dc53477\\\",\\\"beamLabel\\\":\\\"(3)-S8x23#\\\",\\\"priority\\\":3,\\\"Shape\\\":\\\"S\\\",\\\"height\\\":8,\\\"weightPerUnitLength\\\":23,\\\"momentOfInertia_I\\\":64.7,\\\"sectionModulus_Zu\\\":16.2},{\\\"id\\\":\\\"d85417cdab81451589c9765f5dc53477\\\",\\\"beamLabel\\\":\\\"(3)-S10x25.4#\\\",\\\"priority\\\":1,\\\"Shape\\\":\\\"S\\\",\\\"height\\\":10,\\\"weightPerUnitLength\\\":25.4,\\\"momentOfInertia_I\\\":123,\\\"sectionModulus_Zu\\\":24.6}]\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiIuL2Fzc2V0cy9TdGVlbExpYnJhcnlEYXRhU2NoZW1hLmpzb24uanMiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./assets/SteelLibraryDataSchema.json\n");

/***/ }),

/***/ "./src/three-beam-calc-module.ts":
/*!***************************************!*\
  !*** ./src/three-beam-calc-module.ts ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar SteelLibrary = __webpack_require__(/*! ../assets/SteelLibraryDataSchema.json */ \"./assets/SteelLibraryDataSchema.json\");\r\nvar BEAM_ENUM;\r\n(function (BEAM_ENUM) {\r\n    BEAM_ENUM[BEAM_ENUM[\"BEAM1\"] = 0] = \"BEAM1\";\r\n    BEAM_ENUM[BEAM_ENUM[\"BEAM2\"] = 1] = \"BEAM2\";\r\n    BEAM_ENUM[BEAM_ENUM[\"BEAM3\"] = 2] = \"BEAM3\";\r\n})(BEAM_ENUM || (BEAM_ENUM = {}));\r\nvar REACTIONTYPE;\r\n(function (REACTIONTYPE) {\r\n    REACTIONTYPE[\"LEFTREACTION\"] = \"LEFT_REACTION\";\r\n    REACTIONTYPE[\"RIGHTREACTION\"] = \"RIGHT_REACTION\";\r\n})(REACTIONTYPE || (REACTIONTYPE = {}));\r\nvar BENDINGMOMENT;\r\n(function (BENDINGMOMENT) {\r\n    BENDINGMOMENT[\"LEFTBENDINGMOMENT\"] = \"LEFT_BENDING_MOMENT\";\r\n    BENDINGMOMENT[\"RIGHTBENDINGMOMENT\"] = \"RIGHT_BENDING_MOMENT\";\r\n})(BENDINGMOMENT || (BENDINGMOMENT = {}));\r\nvar CONSTANTS;\r\n(function (CONSTANTS) {\r\n    CONSTANTS[CONSTANTS[\"FACTOR_ARC_OF_CONTACT\"] = 180] = \"FACTOR_ARC_OF_CONTACT\";\r\n    CONSTANTS[CONSTANTS[\"FACTOR_MAX_DEFLECTION\"] = 1666] = \"FACTOR_MAX_DEFLECTION\";\r\n    CONSTANTS[CONSTANTS[\"FACTOR_ZU_EXISTING_BEAMS\"] = 17600] = \"FACTOR_ZU_EXISTING_BEAMS\";\r\n    CONSTANTS[CONSTANTS[\"FACTOR_ZU_NEW_BEAMS\"] = 19300] = \"FACTOR_ZU_NEW_BEAMS\";\r\n    CONSTANTS[CONSTANTS[\"FACTOR_INCH_TO_FEET\"] = 12] = \"FACTOR_INCH_TO_FEET\";\r\n    CONSTANTS[CONSTANTS[\"BEAM_SPACING_RATIO_FIRST_BEAM\"] = 0.8] = \"BEAM_SPACING_RATIO_FIRST_BEAM\";\r\n    CONSTANTS[CONSTANTS[\"BEAM_SPACING_RATIO_SECOND_BEAM\"] = 0.8] = \"BEAM_SPACING_RATIO_SECOND_BEAM\";\r\n    CONSTANTS[CONSTANTS[\"BEAM_SPACING_RATIO_THIRD_BEAM\"] = 0.2] = \"BEAM_SPACING_RATIO_THIRD_BEAM\";\r\n    CONSTANTS[CONSTANTS[\"MODULUS_OF_ELASTICITY\"] = 29000000] = \"MODULUS_OF_ELASTICITY\";\r\n    CONSTANTS[CONSTANTS[\"BORDERLINE_UPPER_LIMIT\"] = 1] = \"BORDERLINE_UPPER_LIMIT\";\r\n    CONSTANTS[CONSTANTS[\"BORDERLINE_LOWER_LIMIT\"] = 0.9] = \"BORDERLINE_LOWER_LIMIT\";\r\n})(CONSTANTS || (CONSTANTS = {}));\r\nvar LOAD_TYPE;\r\n(function (LOAD_TYPE) {\r\n    LOAD_TYPE[\"POINTLOAD\"] = \"PointLoad\";\r\n    LOAD_TYPE[\"MIDPOINTLOAD\"] = \"MidPointLoad\";\r\n    LOAD_TYPE[\"ADDITIONALLOAD\"] = \"AdditionalLoad#\";\r\n})(LOAD_TYPE || (LOAD_TYPE = {}));\r\nvar BEAM_TYPE;\r\n(function (BEAM_TYPE) {\r\n    BEAM_TYPE[\"NEW\"] = \"New\";\r\n    BEAM_TYPE[\"EXISTING\"] = \"Existing\";\r\n})(BEAM_TYPE || (BEAM_TYPE = {}));\r\nvar BEAM_STATUS;\r\n(function (BEAM_STATUS) {\r\n    BEAM_STATUS[\"YES\"] = \"Yes\";\r\n    BEAM_STATUS[\"BORDERLINE\"] = \"Borderline\";\r\n    BEAM_STATUS[\"NO\"] = \"No\";\r\n})(BEAM_STATUS || (BEAM_STATUS = {}));\r\n/* class name : ThreeBeamCalcModule\r\nDescitption: This class calculates parameters of 3-Beam Calculator Module.\r\nIt implements 'ICalcModule' interface with method 'calculate()'.\r\n*/\r\nvar ThreeBeamCalcModule = /** @class */ (function () {\r\n    function ThreeBeamCalcModule() {\r\n    }\r\n    /* Function signature : calculate(calculatorModel: ICalcDataModel): ICalcDataModel\r\n    Function description : This function updates the calculated parameters in 'calculatorModel' input.\r\n    Input Parameters: calculatorModel\r\n    Output Parameters: updated calculatorModel\r\n    */\r\n    ThreeBeamCalcModule.prototype.calculate = function (calcData) {\r\n        this.calcData = calcData;\r\n        this.calculateLiveLoad();\r\n        this.calculateDeadLoad();\r\n        this.beamParamCalculations();\r\n        this.calculateMaxReqSectionModulus();\r\n        this.steelCalculations();\r\n        /* returning 'calculatorModel' input json after updating the\r\n        calculated parameters present in 'calculatorModel' input using 'this.calcData' */\r\n        return this.calcData;\r\n    };\r\n    /* This function calculates the gross total of live load,\r\n    and total live load existing on the three beam structure */\r\n    ThreeBeamCalcModule.prototype.calculateLiveLoad = function () {\r\n        this.calcData._grossTotalLiveLoad = this.getGrossTotalLiveLoad();\r\n        this.calcData._totalLiveLoad = this.getTotalLiveLoad();\r\n    };\r\n    /* This function calculates the gross total of live load */\r\n    ThreeBeamCalcModule.prototype.getGrossTotalLiveLoad = function () {\r\n        var grossLiveLoad = this.calcData._carWeight +\r\n            this.calcData._capacity +\r\n            this.calcData._counterWeight +\r\n            this.calcData._hoistRopeWeight +\r\n            this.calcData._compensationWeight +\r\n            this.calcData._travellingCableWeight;\r\n        return grossLiveLoad;\r\n    };\r\n    /* This function calculates the total live load */\r\n    ThreeBeamCalcModule.prototype.getTotalLiveLoad = function () {\r\n        var totalLiveLoad = 0;\r\n        totalLiveLoad = ((2 * (this.calcData._carWeight +\r\n            this.calcData._capacity +\r\n            (0.5 * this.calcData._hoistRopeWeight) +\r\n            (0.5 * this.calcData._compensationWeight) +\r\n            this.calcData._travellingCableWeight)) / this.calcData._carRopingRatio._leftValue) +\r\n            ((2 * (this.calcData._counterWeight +\r\n                (0.5 * this.calcData._hoistRopeWeight) +\r\n                (0.5 * this.calcData._compensationWeight))) / this.calcData._counterWeightRopingRatio._leftValue);\r\n        return totalLiveLoad;\r\n    };\r\n    /* This function is used to calculate total dead load existing on the three beam structure */\r\n    ThreeBeamCalcModule.prototype.calculateDeadLoad = function () {\r\n        this.getFloorSlabWeight();\r\n        this.calcData._totalDeadLoad =\r\n            this.calcData._blockUpBeamsWeight +\r\n                this.calcData._machineWeight +\r\n                this.calcData._motorWeight +\r\n                this.calcData._isolationWeight +\r\n                this.calcData._floorSlabWeight +\r\n                this.calcData._deflectorWeight;\r\n    };\r\n    /* This function is used to calculate the weight of floor slab */\r\n    ThreeBeamCalcModule.prototype.getFloorSlabWeight = function () {\r\n        var maxLength = Math.max.apply(Math, this.calcData._beamParams.map(function (beamObj) {\r\n            return beamObj._distanceBetweenReactions_L;\r\n        }));\r\n        this.calcData._floorSlabWeight = this.calcData._slabThickness *\r\n            (maxLength / CONSTANTS.FACTOR_INCH_TO_FEET) * (this.calcData._machineBeamSpacing_Z.Z / CONSTANTS.FACTOR_INCH_TO_FEET) * (11.5);\r\n    };\r\n    /* This function is used to calculate parameters of each beam */\r\n    ThreeBeamCalcModule.prototype.beamParamCalculations = function () {\r\n        var _this = this;\r\n        this.calcData._beamParams.forEach(function (beamObj) {\r\n            _this.calcData._totalDeadLoad = _this.calcData._totalDeadLoad +\r\n                beamObj._machineBeamWeight +\r\n                beamObj._blockingBeamWeight;\r\n            _this.machineLoadPointCalculations(beamObj);\r\n            _this.rankBeamPoints(beamObj);\r\n            _this.calculateReactionForce(beamObj);\r\n            _this.calculateBendingMoment(beamObj);\r\n            _this.calculateBeamSectionModulus(beamObj);\r\n            _this.calculateMaximumDeflection(beamObj);\r\n        });\r\n    };\r\n    /* This function calculates the parameters existing on each load point*/\r\n    ThreeBeamCalcModule.prototype.machineLoadPointCalculations = function (beamObj) {\r\n        var _this = this;\r\n        beamObj._machineLoadPoints.forEach(function (loadPointObj) {\r\n            _this.calculatePointDistance(beamObj._distanceBetweenReactions_L, loadPointObj);\r\n            _this.calculateValueV1(loadPointObj);\r\n            _this.calculatePointLiveLoad(beamObj, loadPointObj);\r\n            _this.calculatePointDeadLoad(beamObj, loadPointObj);\r\n            _this.calculateTotalLoad(loadPointObj);\r\n            _this.calculateStaticLoad(loadPointObj);\r\n        });\r\n    };\r\n    /* This function assigns rank to each load point,\r\n     on the basis of their distance from left reaction point of a beam */\r\n    ThreeBeamCalcModule.prototype.rankBeamPoints = function (beamObj) {\r\n        var rank = 1;\r\n        beamObj._machineLoadPoints.sort(function (pointObj1, pointObj2) {\r\n            return pointObj1._distanceLeft_a - pointObj2._distanceLeft_a;\r\n        });\r\n        var loadPoint = 0;\r\n        for (loadPoint = 0; loadPoint < beamObj._machineLoadPoints.length - 1; loadPoint++) {\r\n            beamObj._machineLoadPoints[loadPoint]._rank = rank;\r\n            if (beamObj._machineLoadPoints[loadPoint]._distanceLeft_a <\r\n                beamObj._machineLoadPoints[loadPoint + 1]._distanceLeft_a) {\r\n                rank++;\r\n            }\r\n        }\r\n        beamObj._machineLoadPoints[loadPoint]._rank = rank;\r\n    };\r\n    /* This function calculates live load existing on a point of a beam */\r\n    ThreeBeamCalcModule.prototype.calculatePointLiveLoad = function (beamObj, pointObj) {\r\n        // Live load of mid point is 0\r\n        if (pointObj._loadType === LOAD_TYPE.POINTLOAD) {\r\n            var liveLoad = 0;\r\n            if (beamObj._beamIndex === BEAM_ENUM.BEAM1 || beamObj._beamIndex === BEAM_ENUM.BEAM2) {\r\n                liveLoad = (this.calcData._arcOfContact / CONSTANTS.FACTOR_ARC_OF_CONTACT) *\r\n                    this.calcData._totalLiveLoad * ((CONSTANTS.BEAM_SPACING_RATIO_FIRST_BEAM) - ((CONSTANTS.BEAM_SPACING_RATIO_FIRST_BEAM) * ((this.calcData._machineBeamSpacing_Z.X) /\r\n                    (this.calcData._machineBeamSpacing_Z.X + this.calcData._machineBeamSpacing_Z.Y))));\r\n                liveLoad = this.roundUptoDecimalPlace(liveLoad, 1);\r\n                pointObj._liveLoad = liveLoad;\r\n            }\r\n            else if (beamObj._beamIndex === BEAM_ENUM.BEAM3) {\r\n                liveLoad = (this.calcData._arcOfContact / CONSTANTS.FACTOR_ARC_OF_CONTACT) *\r\n                    this.calcData._totalLiveLoad * (CONSTANTS.BEAM_SPACING_RATIO_THIRD_BEAM);\r\n                liveLoad = this.roundUptoDecimalPlace(liveLoad, 1);\r\n                pointObj._liveLoad = liveLoad;\r\n            }\r\n            else {\r\n                // other beams\r\n            }\r\n        }\r\n    };\r\n    /* This function calculates dead load existing on a point of a beam */\r\n    ThreeBeamCalcModule.prototype.calculatePointDeadLoad = function (beamObj, pointObj) {\r\n        // dead loads of additional loads is 0\r\n        if (pointObj._loadType === LOAD_TYPE.POINTLOAD) {\r\n            var deadLoad = (this.calcData._machineWeight +\r\n                this.calcData._motorWeight + this.calcData._isolationWeight) / 3;\r\n            deadLoad = this.roundUptoDecimalPlace(deadLoad, 1);\r\n            pointObj._deadLoad = deadLoad;\r\n        }\r\n        else if (pointObj._loadType === LOAD_TYPE.MIDPOINTLOAD) {\r\n            var deadLoad = beamObj._machineBeamWeight +\r\n                beamObj._blockingBeamWeight + (this.calcData._blockUpBeamsWeight / 3) +\r\n                (this.calcData._floorSlabWeight / 3);\r\n            deadLoad = this.roundUptoDecimalPlace(deadLoad, 1);\r\n            pointObj._deadLoad = deadLoad;\r\n        }\r\n        else {\r\n            // other points type\r\n        }\r\n    };\r\n    /* This function calculates total load existing on a point of a beam */\r\n    ThreeBeamCalcModule.prototype.calculateTotalLoad = function (pointObj) {\r\n        pointObj._totalLoad = pointObj._liveLoad + pointObj._deadLoad;\r\n    };\r\n    /* This function calculates static load existing on a point of a beam */\r\n    ThreeBeamCalcModule.prototype.calculateStaticLoad = function (pointObj) {\r\n        pointObj._staticLoad = (pointObj._liveLoad) / 2;\r\n    };\r\n    /* This function calculates momentum of a load with respect to a point of a beam */\r\n    ThreeBeamCalcModule.prototype.getMomentum = function (load, distance) {\r\n        var momentum = 0;\r\n        momentum = load * distance;\r\n        return momentum;\r\n    };\r\n    /* This function calculates both the reaction forces existing on a beam */\r\n    ThreeBeamCalcModule.prototype.calculateReactionForce = function (beamObj) {\r\n        var reactionForceObj = this.getReaction(beamObj);\r\n        beamObj._reactions._reactionLeft = reactionForceObj[REACTIONTYPE.LEFTREACTION];\r\n        beamObj._reactions._reactionRight = reactionForceObj[REACTIONTYPE.RIGHTREACTION];\r\n    };\r\n    /* This function calculates and returns a single reaction force of a beam */\r\n    ThreeBeamCalcModule.prototype.getReaction = function (beamObj) {\r\n        var _this = this;\r\n        var momentumLeftReaction = 0;\r\n        var momentumRightReaction = 0;\r\n        var reactionForceObj = {};\r\n        beamObj._machineLoadPoints.forEach(function (loadPointObj) {\r\n            momentumRightReaction = momentumRightReaction +\r\n                _this.getMomentum(loadPointObj._totalLoad, loadPointObj._distanceRight_b);\r\n            momentumLeftReaction = momentumLeftReaction +\r\n                _this.getMomentum(loadPointObj._totalLoad, loadPointObj._distanceLeft_a);\r\n        });\r\n        reactionForceObj[REACTIONTYPE.LEFTREACTION] = momentumRightReaction / beamObj._distanceBetweenReactions_L;\r\n        reactionForceObj[REACTIONTYPE.RIGHTREACTION] = momentumLeftReaction / beamObj._distanceBetweenReactions_L;\r\n        return reactionForceObj;\r\n    };\r\n    /* this function calculates bending moment existing on a beam */\r\n    ThreeBeamCalcModule.prototype.calculateBendingMoment = function (beamObj) {\r\n        var referencePointObj = this.getRefrencePoint(beamObj);\r\n        var bendingMomentObj = this.getBendingMoment(beamObj, referencePointObj);\r\n        beamObj._bendingMoments._bendingMomentLeft = bendingMomentObj[BENDINGMOMENT.LEFTBENDINGMOMENT];\r\n        beamObj._bendingMoments._bendingMomentRight = bendingMomentObj[BENDINGMOMENT.RIGHTBENDINGMOMENT];\r\n    };\r\n    ThreeBeamCalcModule.prototype.getBendingMoment = function (beamObj, referencePointObj) {\r\n        var _this = this;\r\n        var bendingMomentObj = {};\r\n        var leftBendingMoment = this.getMomentum(beamObj._reactions._reactionLeft, referencePointObj._distanceLeft_a);\r\n        var rightBendingMoment = this.getMomentum(beamObj._reactions._reactionRight, referencePointObj._distanceRight_b);\r\n        var referencePointIndex = referencePointObj._rank - 1;\r\n        beamObj._machineLoadPoints.forEach(function (loadpointObj, index) {\r\n            if (index < referencePointIndex) {\r\n                leftBendingMoment = leftBendingMoment -\r\n                    _this.getMomentum(loadpointObj._totalLoad, referencePointObj._distanceLeft_a - loadpointObj._distanceLeft_a);\r\n            }\r\n            else if (index > referencePointIndex) {\r\n                rightBendingMoment = rightBendingMoment -\r\n                    _this.getMomentum(loadpointObj._totalLoad, loadpointObj._distanceLeft_a - referencePointObj._distanceLeft_a);\r\n            }\r\n        });\r\n        bendingMomentObj[BENDINGMOMENT.LEFTBENDINGMOMENT] = leftBendingMoment;\r\n        bendingMomentObj[BENDINGMOMENT.RIGHTBENDINGMOMENT] = rightBendingMoment;\r\n        return bendingMomentObj;\r\n    };\r\n    /* This function returns the reference load point,\r\n     with respect to which we need to calculate momentum of other loads existing on the beam*/\r\n    ThreeBeamCalcModule.prototype.getRefrencePoint = function (beamObj) {\r\n        var sumTotalLoad = 0;\r\n        var referencePointObj = beamObj._machineLoadPoints.find(function (loadPointObj) {\r\n            sumTotalLoad = sumTotalLoad + loadPointObj._totalLoad;\r\n            if (beamObj._reactions._reactionLeft <= sumTotalLoad) {\r\n                return true;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        });\r\n        return referencePointObj;\r\n    };\r\n    /* This function calculates the required section modulus of a beam */\r\n    ThreeBeamCalcModule.prototype.calculateBeamSectionModulus = function (beamObj) {\r\n        var requiredBeamSectionModulus = this.getReqSectionModulus(beamObj._bendingMoments._bendingMomentLeft, beamObj._bendingMoments._bendingMomentRight);\r\n        beamObj._requiredSectionModulus_Zu = requiredBeamSectionModulus;\r\n    };\r\n    /* Calculates maximum bending moment reuired for selection of beam */\r\n    ThreeBeamCalcModule.prototype.calculateMaxReqSectionModulus = function () {\r\n        var maximumRequiredSectionModulus = 0;\r\n        this.calcData._beamParams.forEach(function (beamObj) {\r\n            if (maximumRequiredSectionModulus < beamObj._requiredSectionModulus_Zu) {\r\n                maximumRequiredSectionModulus = beamObj._requiredSectionModulus_Zu;\r\n            }\r\n        });\r\n        this.calcData._maximumRequiredSectionModulus_Zu = maximumRequiredSectionModulus;\r\n    };\r\n    /* This function calculates the required section modulus of a beam */\r\n    ThreeBeamCalcModule.prototype.getReqSectionModulus = function () {\r\n        var bendingMoments = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            bendingMoments[_i] = arguments[_i];\r\n        }\r\n        var requiredSectionModulus = 0;\r\n        var maximumBendingMoment = Math.max.apply(Math, bendingMoments);\r\n        if (this.calcData._beamType === BEAM_TYPE.NEW) {\r\n            requiredSectionModulus = maximumBendingMoment / CONSTANTS.FACTOR_ZU_NEW_BEAMS;\r\n        }\r\n        else if (this.calcData._beamType === BEAM_TYPE.EXISTING) {\r\n            requiredSectionModulus = maximumBendingMoment / CONSTANTS.FACTOR_ZU_EXISTING_BEAMS;\r\n        }\r\n        return requiredSectionModulus;\r\n    };\r\n    /* This function calculates maximum deflection of a beam */\r\n    ThreeBeamCalcModule.prototype.calculateMaximumDeflection = function (beamObj) {\r\n        beamObj._maximumDeflection = (beamObj._distanceBetweenReactions_L) / CONSTANTS.FACTOR_MAX_DEFLECTION;\r\n    };\r\n    /* This function calculates distance between point load and right reaction point of a beam */\r\n    ThreeBeamCalcModule.prototype.calculatePointDistance = function (length, loadPointObj) {\r\n        loadPointObj._distanceRight_b = length - loadPointObj._distanceLeft_a;\r\n    };\r\n    ThreeBeamCalcModule.prototype.calculateValueV1 = function (loadPointObj) {\r\n        // val = b*sqrt(1/3+(2*a/3*b))\r\n        var valueV1 = 0;\r\n        valueV1 = loadPointObj._distanceRight_b *\r\n            (Math.sqrt((1 / 3) +\r\n                ((2 * loadPointObj._distanceLeft_a) / (3 * loadPointObj._distanceRight_b))));\r\n        loadPointObj._valueV1 = valueV1;\r\n    };\r\n    /* This function calculates the selection status of input steel beams,\r\n    based on the value of reaction force and deflection, existing on a beam*/\r\n    ThreeBeamCalcModule.prototype.steelCalculations = function () {\r\n        var _this = this;\r\n        SteelLibrary.forEach(function (steelLibMember) {\r\n            var steelObj = {};\r\n            steelObj._steelLabel = steelLibMember.steelLabel;\r\n            steelObj._steelMeta = _this.getSteelMetaData(steelLibMember);\r\n            steelObj._calculations = {};\r\n            steelObj._calculations._sectionModulusStatus =\r\n                _this.getSteelStatus(_this.calcData._maximumRequiredSectionModulus_Zu, steelLibMember.sectionModulus_Zu);\r\n            steelObj._calculations._deflectionStatus = _this.getSteelDeflectionStatus(steelLibMember);\r\n            _this.calcData._steelLibraryMembers.push(steelObj);\r\n        });\r\n    };\r\n    /* This function calculates meta data of input steel beam */\r\n    ThreeBeamCalcModule.prototype.getSteelMetaData = function (steelObj) {\r\n        var steelMetaData = {};\r\n        steelMetaData._sectionModulus_Zu = steelObj.sectionModulus_Zu;\r\n        steelMetaData._momentofInertia_I = steelObj.momentOfInertia_I;\r\n        steelMetaData._shape = this.getSteelShape(steelObj);\r\n        return steelMetaData;\r\n    };\r\n    /* This function calculates shape, height and weight per unit length of input steel beam */\r\n    ThreeBeamCalcModule.prototype.getSteelShape = function (steelObj) {\r\n        var steelShape = {};\r\n        steelShape._type = steelObj.Shape;\r\n        steelShape._height = steelObj.height;\r\n        steelShape._weightPerUnitLength = steelObj.weightPerUnitLength;\r\n        return steelShape;\r\n    };\r\n    /* This function calculates selection status of input steel beam,\r\n     using deflection of a beam */\r\n    ThreeBeamCalcModule.prototype.getSteelDeflectionStatus = function (steelObj) {\r\n        var _this = this;\r\n        var deflectionStatusArray = [];\r\n        this.calcData._beamParams.forEach(function (beamObj) {\r\n            _this.mergeEqualRankPoints(beamObj);\r\n            var deflectionStatusObj = _this.getDeflectionStatus(steelObj, beamObj);\r\n            if (deflectionStatusObj) {\r\n                deflectionStatusArray.push(deflectionStatusObj);\r\n            }\r\n        });\r\n        return deflectionStatusArray;\r\n    };\r\n    /* This function merges load points,\r\n     which exists at same distance from left reaction point of a beam */\r\n    ThreeBeamCalcModule.prototype.mergeEqualRankPoints = function (beamObj) {\r\n        var _this = this;\r\n        var existingPoint = {};\r\n        beamObj._machineLoadPoints.forEach(function (loadPoint) {\r\n            if (existingPoint[loadPoint._distanceLeft_a]) {\r\n                var equalRankPointObj = existingPoint[loadPoint._distanceLeft_a];\r\n                /* Adding loads of point existing at same location */\r\n                equalRankPointObj._liveLoad = equalRankPointObj._liveLoad + loadPoint._liveLoad;\r\n                equalRankPointObj._deadLoad = equalRankPointObj._deadLoad + loadPoint._deadLoad;\r\n                equalRankPointObj._totalLoad = equalRankPointObj._totalLoad + loadPoint._totalLoad;\r\n                equalRankPointObj._staticLoad = equalRankPointObj._staticLoad + loadPoint._staticLoad;\r\n                /* Removing merged load point from beam */\r\n                loadPoint._liveLoad = 0;\r\n                loadPoint._deadLoad = 0;\r\n                loadPoint._totalLoad = 0;\r\n                loadPoint._staticLoad = 0;\r\n                loadPoint._distanceLeft_a = 0;\r\n                loadPoint._distanceRight_b = beamObj._distanceBetweenReactions_L;\r\n                _this.calculateValueV1(loadPoint);\r\n            }\r\n            else {\r\n                existingPoint[loadPoint._distanceLeft_a] = loadPoint;\r\n            }\r\n        });\r\n    };\r\n    ThreeBeamCalcModule.prototype.getDeflectionStatus = function (steelObj, beamObj) {\r\n        var deflectionStatusObj = {};\r\n        deflectionStatusObj._beamIndex = beamObj._beamIndex;\r\n        deflectionStatusObj._pointDeflection = this.getPointsDeflection(steelObj, beamObj);\r\n        deflectionStatusObj._totalDeflection = this.getTotalDeflection(deflectionStatusObj);\r\n        deflectionStatusObj._status =\r\n            this.getSteelStatus(deflectionStatusObj._totalDeflection, beamObj._maximumDeflection);\r\n        return deflectionStatusObj;\r\n    };\r\n    ThreeBeamCalcModule.prototype.getPointsDeflection = function (steelObj, beamObj) {\r\n        var _this = this;\r\n        var pointDeflectionArray = [];\r\n        beamObj._machineLoadPoints.forEach(function (loadPointObj) {\r\n            var pointDeflectionObj = _this.getPointDeflection(steelObj, loadPointObj);\r\n            if (pointDeflectionObj) {\r\n                pointDeflectionArray.push(pointDeflectionObj);\r\n            }\r\n        });\r\n        return pointDeflectionArray;\r\n    };\r\n    /* This function calculates total deflection of a beam due to all load points existing on a beam*/\r\n    ThreeBeamCalcModule.prototype.getTotalDeflection = function (deflectionStatusObj) {\r\n        var totalDeflection = 0;\r\n        deflectionStatusObj._pointDeflection.forEach(function (pointDeflection) {\r\n            totalDeflection = totalDeflection + pointDeflection._deflection;\r\n        });\r\n        return totalDeflection;\r\n    };\r\n    ThreeBeamCalcModule.prototype.getPointDeflection = function (steelObj, loadPointObj) {\r\n        var pointDeflection = 0;\r\n        var pointDeflectionObj = {};\r\n        pointDeflectionObj._rank = loadPointObj._rank;\r\n        pointDeflection = ((loadPointObj._staticLoad + loadPointObj._deadLoad) *\r\n            (loadPointObj._distanceLeft_a) * Math.pow(loadPointObj._valueV1, 3)) /\r\n            (3 * CONSTANTS.MODULUS_OF_ELASTICITY * (loadPointObj._distanceLeft_a + loadPointObj._distanceRight_b)\r\n                * steelObj.momentOfInertia_I);\r\n        pointDeflectionObj._deflection = pointDeflection;\r\n        return pointDeflectionObj;\r\n    };\r\n    ThreeBeamCalcModule.prototype.getSteelStatus = function (requiredValue, referencedValue) {\r\n        if (requiredValue > referencedValue) {\r\n            return BEAM_STATUS.NO;\r\n        }\r\n        else if (CONSTANTS.BORDERLINE_LOWER_LIMIT <\r\n            (requiredValue / referencedValue) && (requiredValue / referencedValue) <\r\n            CONSTANTS.BORDERLINE_UPPER_LIMIT) {\r\n            return BEAM_STATUS.BORDERLINE;\r\n        }\r\n        else {\r\n            return BEAM_STATUS.YES;\r\n        }\r\n    };\r\n    ThreeBeamCalcModule.prototype.roundUptoDecimalPlace = function (data, numberOfDecimalPlaces) {\r\n        var roundedData = 0;\r\n        if (data && numberOfDecimalPlaces >= 0) {\r\n            roundedData = parseInt(data.toFixed(numberOfDecimalPlaces), 10);\r\n        }\r\n        return roundedData;\r\n    };\r\n    return ThreeBeamCalcModule;\r\n}());\r\nexports.ThreeBeamCalcModule = ThreeBeamCalcModule;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9DYWxjdWxhdG9yLy4vc3JjL3RocmVlLWJlYW0tY2FsYy1tb2R1bGUudHM/NjBmZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQU0sWUFBWSxHQUFHLG1CQUFPLENBQUMsbUZBQXVDLENBQUMsQ0FBQztBQUV0RSxJQUFLLFNBSUo7QUFKRCxXQUFLLFNBQVM7SUFDViwyQ0FBSztJQUNMLDJDQUFLO0lBQ0wsMkNBQUs7QUFDVCxDQUFDLEVBSkksU0FBUyxLQUFULFNBQVMsUUFJYjtBQUVELElBQUssWUFHSjtBQUhELFdBQUssWUFBWTtJQUNiLDhDQUE4QjtJQUM5QixnREFBZ0M7QUFDcEMsQ0FBQyxFQUhJLFlBQVksS0FBWixZQUFZLFFBR2hCO0FBRUQsSUFBSyxhQUdKO0FBSEQsV0FBSyxhQUFhO0lBQ2QsMERBQXlDO0lBQ3pDLDREQUEyQztBQUMvQyxDQUFDLEVBSEksYUFBYSxLQUFiLGFBQWEsUUFHakI7QUFFRCxJQUFLLFNBWUo7QUFaRCxXQUFLLFNBQVM7SUFDViw2RUFBMkI7SUFDM0IsOEVBQTRCO0lBQzVCLHFGQUFnQztJQUNoQywyRUFBMkI7SUFDM0Isd0VBQXdCO0lBQ3hCLDZGQUFtQztJQUNuQywrRkFBb0M7SUFDcEMsNkZBQW1DO0lBQ25DLGtGQUFnQztJQUNoQyw2RUFBNEI7SUFDNUIsK0VBQTRCO0FBQ2hDLENBQUMsRUFaSSxTQUFTLEtBQVQsU0FBUyxRQVliO0FBRUQsSUFBSyxTQUlKO0FBSkQsV0FBSyxTQUFTO0lBQ1Ysb0NBQXVCO0lBQ3ZCLDBDQUE2QjtJQUM3QiwrQ0FBa0M7QUFDdEMsQ0FBQyxFQUpJLFNBQVMsS0FBVCxTQUFTLFFBSWI7QUFFRCxJQUFLLFNBR0o7QUFIRCxXQUFLLFNBQVM7SUFDVix3QkFBVztJQUNYLGtDQUFxQjtBQUN6QixDQUFDLEVBSEksU0FBUyxLQUFULFNBQVMsUUFHYjtBQUVELElBQUssV0FJSjtBQUpELFdBQUssV0FBVztJQUNaLDBCQUFXO0lBQ1gsd0NBQXlCO0lBQ3pC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LEdBQUcsQ0FDbkMsWUFBWSxDQUFDLGVBQWUsR0FBRyxZQUFZLENBQUMsZ0JBQWdCLENBQzNEO2tCQUNILFFBQVEsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQzFDLGtCQUFrQixDQUFDLFdBQVcsR0FBRyxlQUFlLENBQUM7UUFDakQsT0FBTyxrQkFBa0IsQ0FBQztJQUM5QixDQUFDO0lBRU8sNENBQWMsR0FBdEIsVUFBdUIsYUFBcUIsRUFBRSxlQUF1QjtRQUNqRSxJQUFJLGFBQWEsR0FBRyxlQUFlLEVBQUU7WUFDakMsT0FBTyxXQUFXLENBQUMsRUFBRSxDQUFDO1NBQ3pCO2FBQU0sSUFDSCxTQUFTLENBQUMsc0JBQXNCO1lBQ2hDLENBQUMsYUFBYSxHQUFHLGVBQWUsQ0FBQyxJQUFJLENBQUMsYUFBYSxHQUFHLGVBQWUsQ0FBQztZQUN0RSxTQUFTLENBQUMsc0JBQXNCLEVBQUU7WUFDbEMsT0FBTyxXQUFXLENBQUMsVUFBVSxDQUFDO1NBQ2pDO2FBQU07WUFDSCxPQUFPLFdBQVcsQ0FBQyxHQUFHLENBQUM7U0FDMUI7SUFDTCxDQUFDO0lBR08sbURBQXFCLEdBQTdCLFVBQThCLElBQVksRUFBRSxxQkFBNkI7UUFDckUsSUFBSSxXQUFXLEdBQVcsQ0FBQyxDQUFDO1FBQzVCLElBQUksSUFBSSxJQUFJLHFCQUFxQixJQUFJLENBQUMsRUFBRTtZQUNwQyxXQUFXLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMscUJBQXFCLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztTQUNuRTtRQUNELE9BQU8sV0FBVyxDQUFDO0lBQ3ZCLENBQUM7SUFFTCwwQkFBQztBQUFELENBQUM7QUFsZFksa0RBQW1CIiwiZmlsZSI6Ii4vc3JjL3RocmVlLWJlYW0tY2FsYy1tb2R1bGUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBTdGVlbExpYnJhcnkgPSByZXF1aXJlKCcuLi9hc3NldHMvU3RlZWxMaWJyYXJ5RGF0YVNjaGVtYS5qc29uJyk7XHJcblxyXG5lbnVtIEJFQU1fRU5VTSB7XHJcbiAgICBCRUFNMSxcclxuICAgIEJFQU0yLFxyXG4gICAgQkVBTTMsXHJcbn1cclxuXHJcbmVudW0gUkVBQ1RJT05UWVBFIHtcclxuICAgIExFRlRSRUFDVElPTiA9ICdMRUZUX1JFQUNUSU9OJyxcclxuICAgIFJJR0hUUkVBQ1RJT04gPSAnUklHSFRfUkVBQ1RJT04nLFxyXG59XHJcblxyXG5lbnVtIEJFTkRJTkdNT01FTlQge1xyXG4gICAgTEVGVEJFTkRJTkdNT01FTlQgPSAnTEVGVF9CRU5ESU5HX01PTUVOVCcsXHJcbiAgICBSSUdIVEJFTkRJTkdNT01FTlQgPSAnUklHSFRfQkVORElOR19NT01FTlQnLFxyXG59XHJcblxyXG5lbnVtIENPTlNUQU5UUyB7XHJcbiAgICBGQUNUT1JfQVJDX09GX0NPTlRBQ1QgPSAxODAsXHJcbiAgICBGQUNUT1JfTUFYX0RFRkxFQ1RJT04gPSAxNjY2LFxyXG4gICAgRkFDVE9SX1pVX0VYSVNUSU5HX0JFQU1TID0gMTc2MDAsXHJcbiAgICBGQUNUT1JfWlVfTkVXX0JFQU1TID0gMTkzMDAsXHJcbiAgICBGQUNUT1JfSU5DSF9UT19GRUVUID0gMTIsXHJcbiAgICBCRUFNX1NQQUNJTkdfUkFUSU9fRklSU1RfQkVBTSA9IDAuOCxcclxuICAgIEJFQU1fU1BBQ0lOR19SQVRJT19TRUNPTkRfQkVBTSA9IDAuOCxcclxuICAgIEJFQU1fU1BBQ0lOR19SQVRJT19USElSRF9CRUFNID0gMC4yLFxyXG4gICAgTU9EVUxVU19PRl9FTEFTVElDSVRZID0gMjkwMDAwMDAsXHJcbiAgICBCT1JERVJMSU5FX1VQUEVSX0xJTUlUID0gMS4wLFxyXG4gICAgQk9SREVSTElORV9MT1dFUl9MSU1JVCA9IDAuOSxcclxufVxyXG5cclxuZW51bSBMT0FEX1RZUEUge1xyXG4gICAgUE9JTlRMT0FEID0gJ1BvaW50TG9hZCcsXHJcbiAgICBNSURQT0lOVExPQUQgPSAnTWlkUG9pbnRMb2FkJyxcclxuICAgIEFERElUSU9OQUxMT0FEID0gJ0FkZGl0aW9uYWxMb2FkIycsXHJcbn1cclxuXHJcbmVudW0gQkVBTV9UWVBFIHtcclxuICAgIE5FVyA9ICdOZXcnLFxyXG4gICAgRVhJU1RJTkcgPSAnRXhpc3RpbmcnLFxyXG59XHJcblxyXG5lbnVtIEJFQU1fU1RBVFVTIHtcclxuICAgIFlFUyA9ICdZZXMnLFxyXG4gICAgQk9SREVSTElORSA9ICdCb3JkZXJsaW5lJyxcclxuICAgIE5PID0gJ05vJyxcclxufVxyXG5cclxuLyogY2xhc3MgbmFtZSA6IFRocmVlQmVhbUNhbGNNb2R1bGVcclxuRGVzY2l0cHRpb246IFRoaXMgY2xhc3MgY2FsY3VsYXRlcyBwYXJhbWV0ZXJzIG9mIDMtQmVhbSBDYWxjdWxhdG9yIE1vZHVsZS5cclxuSXQgaW1wbGVtZW50cyAnSUNhbGNNb2R1bGUnIGludGVyZmFjZSB3aXRoIG1ldGhvZCAnY2FsY3VsYXRlKCknLlxyXG4qL1xyXG5leHBvcnQgY2xhc3MgVGhyZWVCZWFtQ2FsY01vZHVsZSB7XHJcblxyXG5cclxuICAgIHB1YmxpYyBjYWxjRGF0YTogYW55O1xyXG5cclxuICAgIC8qIEZ1bmN0aW9uIHNpZ25hdHVyZSA6IGNhbGN1bGF0ZShjYWxjdWxhdG9yTW9kZWw6IElDYWxjRGF0YU1vZGVsKTogSUNhbGNEYXRhTW9kZWxcclxuICAgIEZ1bmN0aW9uIGRlc2NyaXB0aW9uIDogVGhpcyBmdW5jdGlvbiB1cGRhdGVzIHRoZSBjYWxjdWxhdGVkIHBhcmFtZXRlcnMgaW4gJ2NhbGN1bGF0b3JNb2RlbCcgaW5wdXQuXHJcbiAgICBJbnB1dCBQYXJhbWV0ZXJzOiBjYWxjdWxhdG9yTW9kZWxcclxuICAgIE91dHB1dCBQYXJhbWV0ZXJzOiB1cGRhdGVkIGNhbGN1bGF0b3JNb2RlbFxyXG4gICAgKi9cclxuICAgIHB1YmxpYyBjYWxjdWxhdGUoY2FsY0RhdGE6IGFueSkge1xyXG5cclxuICAgICAgICB0aGlzLmNhbGNEYXRhID0gY2FsY0RhdGE7XHJcblxyXG4gICAgICAgIHRoaXMuY2FsY3VsYXRlTGl2ZUxvYWQoKTtcclxuICAgICAgICB0aGlzLmNhbGN1bGF0ZURlYWRMb2FkKCk7XHJcbiAgICAgICAgdGhpcy5iZWFtUGFyYW1DYWxjdWxhdGlvbnMoKTtcclxuICAgICAgICB0aGlzLmNhbGN1bGF0ZU1heFJlcVNlY3Rpb25Nb2R1bHVzKCk7XHJcbiAgICAgICAgdGhpcy5zdGVlbENhbGN1bGF0aW9ucygpO1xyXG5cclxuICAgICAgICAvKiByZXR1cm5pbmcgJ2NhbGN1bGF0b3JNb2RlbCcgaW5wdXQganNvbiBhZnRlciB1cGRhdGluZyB0aGVcclxuICAgICAgICBjYWxjdWxhdGVkIHBhcmFtZXRlcnMgcHJlc2VudCBpbiAnY2FsY3VsYXRvck1vZGVsJyBpbnB1dCB1c2luZyAndGhpcy5jYWxjRGF0YScgKi9cclxuICAgICAgICByZXR1cm4gdGhpcy5jYWxjRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICAvKiBUaGlzIGZ1bmN0aW9uIGNhbGN1bGF0ZXMgdGhlIGdyb3NzIHRvdGFsIG9mIGxpdmUgbG9hZCxcclxuICAgIGFuZCB0b3RhbCBsaXZlIGxvYWQgZXhpc3Rpbmcgb24gdGhlIHRocmVlIGJlYW0gc3RydWN0dXJlICovXHJcbiAgICBwcml2YXRlIGNhbGN1bGF0ZUxpdmVMb2FkKCkge1xyXG4gICAgICAgIHRoaXMuY2FsY0RhdGEuX2dyb3NzVG90YWxMaXZlTG9hZCA9IHRoaXMuZ2V0R3Jvc3NUb3RhbExpdmVMb2FkKCk7XHJcbiAgICAgICAgdGhpcy5jYWxjRGF0YS5fdG90YWxMaXZlTG9hZCA9IHRoaXMuZ2V0VG90YWxMaXZlTG9hZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIFRoaXMgZnVuY3Rpb24gY2FsY3VsYXRlcyB0aGUgZ3Jvc3MgdG90YWwgb2YgbGl2ZSBsb2FkICovXHJcbiAgICBwcml2YXRlIGdldEdyb3NzVG90YWxMaXZlTG9hZCgpOiBudW1iZXIge1xyXG4gICAgICAgIGNvbnN0IGdyb3NzTGl2ZUxvYWQgPSB0aGlzLmNhbGNEYXRhLl9jYXJXZWlnaHQgK1xyXG4gICAgICAgICAgICB0aGlzLmNhbGNEYXRhLl9jYXBhY2l0eSArXHJcbiAgICAgICAgICAgIHRoaXMuY2FsY0RhdGEuX2NvdW50ZXJXZWlnaHQgK1xyXG4gICAgICAgICAgICB0aGlzLmNhbGNEYXRhLl9ob2lzdFJvcGVXZWlnaHQgK1xyXG4gICAgICAgICAgICB0aGlzLmNhbGNEYXRhLl9jb21wZW5zYXRpb25XZWlnaHQgK1xyXG4gICAgICAgICAgICB0aGlzLmNhbGNEYXRhLl90cmF2ZWxsaW5nQ2FibGVXZWlnaHQ7XHJcbiAgICAgICAgcmV0dXJuIGdyb3NzTGl2ZUxvYWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyogVGhpcyBmdW5jdGlvbiBjYWxjdWxhdGVzIHRoZSB0b3RhbCBsaXZlIGxvYWQgKi9cclxuICAgIHByaXZhdGUgZ2V0VG90YWxMaXZlTG9hZCgpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCB0b3RhbExpdmVMb2FkOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIHRvdGFsTGl2ZUxvYWQgPSAoKDIgKiAodGhpcy5jYWxjRGF0YS5fY2FyV2VpZ2h0ICtcclxuICAgICAgICAgICAgdGhpcy5jYWxjRGF0YS5fY2FwYWNpdHkgK1xyXG4gICAgICAgICAgICAoMC41ICogdGhpcy5jYWxjRGF0YS5faG9pc3RSb3BlV2VpZ2h0KSArXHJcbiAgICAgICAgICAgICgwLjUgKiB0aGlzLmNhbGNEYXRhLl9jb21wZW5zYXRpb25XZWlnaHQpICtcclxuICAgICAgICAgICAgdGhpcy5jYWxjRGF0YS5fdHJhdmVsbGluZ0NhYmxlV2VpZ2h0XHJcbiAgICAgICAgKSkgLyB0aGlzLmNhbGNEYXRhLl9jYXJSb3BpbmdSYXRpby5fbGVmdFZhbHVlKSArXHJcbiAgICAgICAgICAgICgoMiAqICh0aGlzLmNhbGNEYXRhLl9jb3VudGVyV2VpZ2h0ICtcclxuICAgICAgICAgICAgKDAuNSAqIHRoaXMuY2FsY0RhdGEuX2hvaXN0Um9wZVdlaWdodCkgK1xyXG4gICAgICAgICAgICAoMC41ICogdGhpcy5jYWxjRGF0YS5fY29tcGVuc2F0aW9uV2VpZ2h0KVxyXG4gICAgICAgICkpIC8gdGhpcy5jYWxjRGF0YS5fY291bnRlcldlaWdodFJvcGluZ1JhdGlvLl9sZWZ0VmFsdWUpO1xyXG5cclxuICAgICAgICByZXR1cm4gdG90YWxMaXZlTG9hZDtcclxuICAgIH1cclxuXHJcbiAgICAvKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gY2FsY3VsYXRlIHRvdGFsIGRlYWQgbG9hZCBleGlzdGluZyBvbiB0aGUgdGhyZWUgYmVhbSBzdHJ1Y3R1cmUgKi9cclxuICAgIHByaXZhdGUgY2FsY3VsYXRlRGVhZExvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5nZXRGbG9vclNsYWJXZWlnaHQoKTtcclxuICAgICAgICB0aGlzLmNhbGNEYXRhLl90b3RhbERlYWRMb2FkID1cclxuICAgICAgICAgICAgdGhpcy5jYWxjRGF0YS5fYmxvY2tVcEJlYW1zV2VpZ2h0ICtcclxuICAgICAgICAgICAgdGhpcy5jYWxjRGF0YS5fbWFjaGluZVdlaWdodCArXHJcbiAgICAgICAgICAgIHRoaXMuY2FsY0RhdGEuX21vdG9yV2VpZ2h0ICtcclxuICAgICAgICAgICAgdGhpcy5jYWxjRGF0YS5faXNvbGF0aW9uV2VpZ2h0ICtcclxuICAgICAgICAgICAgdGhpcy5jYWxjRGF0YS5fZmxvb3JTbGFiV2VpZ2h0ICtcclxuICAgICAgICAgICAgdGhpcy5jYWxjRGF0YS5fZGVmbGVjdG9yV2VpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBjYWxjdWxhdGUgdGhlIHdlaWdodCBvZiBmbG9vciBzbGFiICovXHJcbiAgICBwcml2YXRlIGdldEZsb29yU2xhYldlaWdodCgpIHtcclxuICAgICAgICBjb25zdCBtYXhMZW5ndGg6IG51bWJlciA9IE1hdGgubWF4LmFwcGx5KFxyXG4gICAgICAgICAgICBNYXRoLCB0aGlzLmNhbGNEYXRhLl9iZWFtUGFyYW1zLm1hcChcclxuICAgICAgICAgICAgICAgIChiZWFtT2JqOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBiZWFtT2JqLl9kaXN0YW5jZUJldHdlZW5SZWFjdGlvbnNfTDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICApKTtcclxuICAgICAgICB0aGlzLmNhbGNEYXRhLl9mbG9vclNsYWJXZWlnaHQgPSB0aGlzLmNhbGNEYXRhLl9zbGFiVGhpY2tuZXNzICpcclxuICAgICAgICAgICAgKG1heExlbmd0aCAvIENPTlNUQU5UUy5GQUNUT1JfSU5DSF9UT19GRUVUKSAqIChcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FsY0RhdGEuX21hY2hpbmVCZWFtU3BhY2luZ19aLlogLyBDT05TVEFOVFMuRkFDVE9SX0lOQ0hfVE9fRkVFVCkgKiAoMTEuNSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGNhbGN1bGF0ZSBwYXJhbWV0ZXJzIG9mIGVhY2ggYmVhbSAqL1xyXG4gICAgcHJpdmF0ZSBiZWFtUGFyYW1DYWxjdWxhdGlvbnMoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuY2FsY0RhdGEuX2JlYW1QYXJhbXMuZm9yRWFjaCgoYmVhbU9iajogYW55KSA9PiB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhbGNEYXRhLl90b3RhbERlYWRMb2FkID0gdGhpcy5jYWxjRGF0YS5fdG90YWxEZWFkTG9hZCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVhbU9iai5fbWFjaGluZUJlYW1XZWlnaHQgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlYW1PYmouX2Jsb2NraW5nQmVhbVdlaWdodDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubWFjaGluZUxvYWRQb2ludENhbGN1bGF0aW9ucyhiZWFtT2JqKTtcclxuICAgICAgICAgICAgdGhpcy5yYW5rQmVhbVBvaW50cyhiZWFtT2JqKTtcclxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVSZWFjdGlvbkZvcmNlKGJlYW1PYmopO1xyXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUJlbmRpbmdNb21lbnQoYmVhbU9iaik7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQmVhbVNlY3Rpb25Nb2R1bHVzKGJlYW1PYmopO1xyXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZU1heGltdW1EZWZsZWN0aW9uKGJlYW1PYmopO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKiBUaGlzIGZ1bmN0aW9uIGNhbGN1bGF0ZXMgdGhlIHBhcmFtZXRlcnMgZXhpc3Rpbmcgb24gZWFjaCBsb2FkIHBvaW50Ki9cclxuICAgIHByaXZhdGUgbWFjaGluZUxvYWRQb2ludENhbGN1bGF0aW9ucyhiZWFtT2JqOiBhbnkpIHtcclxuICAgICAgICBiZWFtT2JqLl9tYWNoaW5lTG9hZFBvaW50cy5mb3JFYWNoKChsb2FkUG9pbnRPYmo6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVBvaW50RGlzdGFuY2UoYmVhbU9iai5fZGlzdGFuY2VCZXR3ZWVuUmVhY3Rpb25zX0wsIGxvYWRQb2ludE9iaik7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVmFsdWVWMShsb2FkUG9pbnRPYmopO1xyXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVBvaW50TGl2ZUxvYWQoYmVhbU9iaiwgbG9hZFBvaW50T2JqKTtcclxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVQb2ludERlYWRMb2FkKGJlYW1PYmosIGxvYWRQb2ludE9iaik7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVG90YWxMb2FkKGxvYWRQb2ludE9iaik7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlU3RhdGljTG9hZChsb2FkUG9pbnRPYmopO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIFRoaXMgZnVuY3Rpb24gYXNzaWducyByYW5rIHRvIGVhY2ggbG9hZCBwb2ludCxcclxuICAgICBvbiB0aGUgYmFzaXMgb2YgdGhlaXIgZGlzdGFuY2UgZnJvbSBsZWZ0IHJlYWN0aW9uIHBvaW50IG9mIGEgYmVhbSAqL1xyXG4gICAgcHJpdmF0ZSByYW5rQmVhbVBvaW50cyhiZWFtT2JqOiBhbnkpIHtcclxuICAgICAgICBsZXQgcmFuazogbnVtYmVyID0gMTtcclxuICAgICAgICBiZWFtT2JqLl9tYWNoaW5lTG9hZFBvaW50cy5zb3J0KChwb2ludE9iajE6IGFueSwgcG9pbnRPYmoyOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHBvaW50T2JqMS5fZGlzdGFuY2VMZWZ0X2EgLSBwb2ludE9iajIuX2Rpc3RhbmNlTGVmdF9hO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxldCBsb2FkUG9pbnQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgZm9yIChsb2FkUG9pbnQgPSAwOyBsb2FkUG9pbnQgPCBiZWFtT2JqLl9tYWNoaW5lTG9hZFBvaW50cy5sZW5ndGggLSAxOyBsb2FkUG9pbnQrKykge1xyXG4gICAgICAgICAgICBiZWFtT2JqLl9tYWNoaW5lTG9hZFBvaW50c1tsb2FkUG9pbnRdLl9yYW5rID0gcmFuaztcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgYmVhbU9iai5fbWFjaGluZUxvYWRQb2ludHNbbG9hZFBvaW50XS5fZGlzdGFuY2VMZWZ0X2EgPFxyXG4gICAgICAgICAgICAgICAgYmVhbU9iai5fbWFjaGluZUxvYWRQb2ludHNbbG9hZFBvaW50ICsgMV0uX2Rpc3RhbmNlTGVmdF9hXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHJhbmsrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBiZWFtT2JqLl9tYWNoaW5lTG9hZFBvaW50c1tsb2FkUG9pbnRdLl9yYW5rID0gcmFuaztcclxuICAgIH1cclxuICAgIC8qIFRoaXMgZnVuY3Rpb24gY2FsY3VsYXRlcyBsaXZlIGxvYWQgZXhpc3Rpbmcgb24gYSBwb2ludCBvZiBhIGJlYW0gKi9cclxuICAgIHByaXZhdGUgY2FsY3VsYXRlUG9pbnRMaXZlTG9hZChiZWFtT2JqOiBhbnksIHBvaW50T2JqOiBhbnkpIHtcclxuICAgICAgICAvLyBMaXZlIGxvYWQgb2YgbWlkIHBvaW50IGlzIDBcclxuICAgICAgICBpZiAocG9pbnRPYmouX2xvYWRUeXBlID09PSBMT0FEX1RZUEUuUE9JTlRMT0FEKSB7XHJcbiAgICAgICAgICAgIGxldCBsaXZlTG9hZDogbnVtYmVyID0gMDtcclxuICAgICAgICAgICAgaWYgKGJlYW1PYmouX2JlYW1JbmRleCA9PT0gQkVBTV9FTlVNLkJFQU0xIHx8IGJlYW1PYmouX2JlYW1JbmRleCA9PT0gQkVBTV9FTlVNLkJFQU0yKSB7XHJcbiAgICAgICAgICAgICAgICBsaXZlTG9hZCAgPSAodGhpcy5jYWxjRGF0YS5fYXJjT2ZDb250YWN0IC8gQ09OU1RBTlRTLkZBQ1RPUl9BUkNfT0ZfQ09OVEFDVCkgKlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYWxjRGF0YS5fdG90YWxMaXZlTG9hZCAqIChcclxuICAgICAgICAgICAgICAgICAgICAoQ09OU1RBTlRTLkJFQU1fU1BBQ0lOR19SQVRJT19GSVJTVF9CRUFNKSAtIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgKENPTlNUQU5UUy5CRUFNX1NQQUNJTkdfUkFUSU9fRklSU1RfQkVBTSkgKiAoXHJcbiAgICAgICAgICAgICAgICAodGhpcy5jYWxjRGF0YS5fbWFjaGluZUJlYW1TcGFjaW5nX1ouWCkgL1xyXG4gICAgICAgICAgICAgICAgKHRoaXMuY2FsY0RhdGEuX21hY2hpbmVCZWFtU3BhY2luZ19aLlggKyAgdGhpcy5jYWxjRGF0YS5fbWFjaGluZUJlYW1TcGFjaW5nX1ouWSlcclxuICAgICAgICAgICAgICAgICkpKTtcclxuICAgICAgICAgICAgICAgIGxpdmVMb2FkID0gdGhpcy5yb3VuZFVwdG9EZWNpbWFsUGxhY2UobGl2ZUxvYWQsIDEpO1xyXG4gICAgICAgICAgICAgICAgcG9pbnRPYmouX2xpdmVMb2FkID0gbGl2ZUxvYWQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYmVhbU9iai5fYmVhbUluZGV4ID09PSBCRUFNX0VOVU0uQkVBTTMpIHtcclxuICAgICAgICAgICAgICAgIGxpdmVMb2FkID0gKHRoaXMuY2FsY0RhdGEuX2FyY09mQ29udGFjdCAvIENPTlNUQU5UUy5GQUNUT1JfQVJDX09GX0NPTlRBQ1QpICpcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FsY0RhdGEuX3RvdGFsTGl2ZUxvYWQgKiAoQ09OU1RBTlRTLkJFQU1fU1BBQ0lOR19SQVRJT19USElSRF9CRUFNKTtcclxuICAgICAgICAgICAgICAgIGxpdmVMb2FkID0gdGhpcy5yb3VuZFVwdG9EZWNpbWFsUGxhY2UobGl2ZUxvYWQsIDEpO1xyXG4gICAgICAgICAgICAgICAgcG9pbnRPYmouX2xpdmVMb2FkID0gbGl2ZUxvYWQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBvdGhlciBiZWFtc1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qIFRoaXMgZnVuY3Rpb24gY2FsY3VsYXRlcyBkZWFkIGxvYWQgZXhpc3Rpbmcgb24gYSBwb2ludCBvZiBhIGJlYW0gKi9cclxuICAgIHByaXZhdGUgY2FsY3VsYXRlUG9pbnREZWFkTG9hZChiZWFtT2JqOiBhbnksIHBvaW50T2JqOiBhbnkpIHtcclxuICAgICAgICAvLyBkZWFkIGxvYWRzIG9mIGFkZGl0aW9uYWwgbG9hZHMgaXMgMFxyXG4gICAgICAgICAgICBpZiAocG9pbnRPYmouX2xvYWRUeXBlID09PSBMT0FEX1RZUEUuUE9JTlRMT0FEKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGVhZExvYWQ6IG51bWJlciA9ICh0aGlzLmNhbGNEYXRhLl9tYWNoaW5lV2VpZ2h0ICtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FsY0RhdGEuX21vdG9yV2VpZ2h0ICsgdGhpcy5jYWxjRGF0YS5faXNvbGF0aW9uV2VpZ2h0KSAvIDM7XHJcbiAgICAgICAgICAgICAgICBkZWFkTG9hZCA9IHRoaXMucm91bmRVcHRvRGVjaW1hbFBsYWNlKGRlYWRMb2FkLCAxKTtcclxuICAgICAgICAgICAgICAgIHBvaW50T2JqLl9kZWFkTG9hZCA9IGRlYWRMb2FkO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBvaW50T2JqLl9sb2FkVHlwZSA9PT0gTE9BRF9UWVBFLk1JRFBPSU5UTE9BRCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGRlYWRMb2FkOiBudW1iZXIgPSBiZWFtT2JqLl9tYWNoaW5lQmVhbVdlaWdodCArXHJcbiAgICAgICAgICAgICAgICBiZWFtT2JqLl9ibG9ja2luZ0JlYW1XZWlnaHQgKyAodGhpcy5jYWxjRGF0YS5fYmxvY2tVcEJlYW1zV2VpZ2h0IC8gMykgK1xyXG4gICAgICAgICAgICAgICAgKHRoaXMuY2FsY0RhdGEuX2Zsb29yU2xhYldlaWdodCAvIDMpO1xyXG4gICAgICAgICAgICAgICAgZGVhZExvYWQgPSB0aGlzLnJvdW5kVXB0b0RlY2ltYWxQbGFjZShkZWFkTG9hZCwgMSk7XHJcbiAgICAgICAgICAgICAgICBwb2ludE9iai5fZGVhZExvYWQgPSBkZWFkTG9hZDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIG90aGVyIHBvaW50cyB0eXBlXHJcbiAgICAgICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKiBUaGlzIGZ1bmN0aW9uIGNhbGN1bGF0ZXMgdG90YWwgbG9hZCBleGlzdGluZyBvbiBhIHBvaW50IG9mIGEgYmVhbSAqL1xyXG4gICAgcHJpdmF0ZSBjYWxjdWxhdGVUb3RhbExvYWQocG9pbnRPYmo6IGFueSkge1xyXG4gICAgICAgIHBvaW50T2JqLl90b3RhbExvYWQgPSBwb2ludE9iai5fbGl2ZUxvYWQgKyBwb2ludE9iai5fZGVhZExvYWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyogVGhpcyBmdW5jdGlvbiBjYWxjdWxhdGVzIHN0YXRpYyBsb2FkIGV4aXN0aW5nIG9uIGEgcG9pbnQgb2YgYSBiZWFtICovXHJcbiAgICBwcml2YXRlIGNhbGN1bGF0ZVN0YXRpY0xvYWQocG9pbnRPYmo6IGFueSkge1xyXG4gICAgICAgIHBvaW50T2JqLl9zdGF0aWNMb2FkID0gKHBvaW50T2JqLl9saXZlTG9hZCkgLyAyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIFRoaXMgZnVuY3Rpb24gY2FsY3VsYXRlcyBtb21lbnR1bSBvZiBhIGxvYWQgd2l0aCByZXNwZWN0IHRvIGEgcG9pbnQgb2YgYSBiZWFtICovXHJcbiAgICBwcml2YXRlIGdldE1vbWVudHVtKGxvYWQ6IG51bWJlciwgZGlzdGFuY2U6IG51bWJlcikge1xyXG4gICAgICAgIGxldCBtb21lbnR1bTogYW55ID0gMDtcclxuICAgICAgICBtb21lbnR1bSA9IGxvYWQgKiBkaXN0YW5jZTtcclxuICAgICAgICByZXR1cm4gbW9tZW50dW07XHJcbiAgICB9XHJcblxyXG4gICAgLyogVGhpcyBmdW5jdGlvbiBjYWxjdWxhdGVzIGJvdGggdGhlIHJlYWN0aW9uIGZvcmNlcyBleGlzdGluZyBvbiBhIGJlYW0gKi9cclxuICAgIHByaXZhdGUgY2FsY3VsYXRlUmVhY3Rpb25Gb3JjZShiZWFtT2JqOiBhbnkpIHtcclxuICAgICAgICBjb25zdCByZWFjdGlvbkZvcmNlT2JqOiBhbnkgPSB0aGlzLmdldFJlYWN0aW9uKGJlYW1PYmopO1xyXG4gICAgICAgIGJlYW1PYmouX3JlYWN0aW9ucy5fcmVhY3Rpb25MZWZ0ID0gcmVhY3Rpb25Gb3JjZU9ialtSRUFDVElPTlRZUEUuTEVGVFJFQUNUSU9OXTtcclxuICAgICAgICBiZWFtT2JqLl9yZWFjdGlvbnMuX3JlYWN0aW9uUmlnaHQgPSByZWFjdGlvbkZvcmNlT2JqW1JFQUNUSU9OVFlQRS5SSUdIVFJFQUNUSU9OXTtcclxuICAgIH1cclxuXHJcbiAgICAvKiBUaGlzIGZ1bmN0aW9uIGNhbGN1bGF0ZXMgYW5kIHJldHVybnMgYSBzaW5nbGUgcmVhY3Rpb24gZm9yY2Ugb2YgYSBiZWFtICovXHJcbiAgICBwcml2YXRlIGdldFJlYWN0aW9uKGJlYW1PYmo6IGFueSkge1xyXG4gICAgICAgIGxldCBtb21lbnR1bUxlZnRSZWFjdGlvbjogbnVtYmVyID0gMDtcclxuICAgICAgICBsZXQgbW9tZW50dW1SaWdodFJlYWN0aW9uOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGNvbnN0IHJlYWN0aW9uRm9yY2VPYmo6IGFueSA9IHt9O1xyXG5cclxuICAgICAgICBiZWFtT2JqLl9tYWNoaW5lTG9hZFBvaW50cy5mb3JFYWNoKChsb2FkUG9pbnRPYmo6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBtb21lbnR1bVJpZ2h0UmVhY3Rpb24gPSBtb21lbnR1bVJpZ2h0UmVhY3Rpb24gK1xyXG4gICAgICAgICAgICB0aGlzLmdldE1vbWVudHVtKGxvYWRQb2ludE9iai5fdG90YWxMb2FkLCBsb2FkUG9pbnRPYmouX2Rpc3RhbmNlUmlnaHRfYik7XHJcbiAgICAgICAgICAgIG1vbWVudHVtTGVmdFJlYWN0aW9uID0gbW9tZW50dW1MZWZ0UmVhY3Rpb24gK1xyXG4gICAgICAgICAgICB0aGlzLmdldE1vbWVudHVtKGxvYWRQb2ludE9iai5fdG90YWxMb2FkLCBsb2FkUG9pbnRPYmouX2Rpc3RhbmNlTGVmdF9hKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVhY3Rpb25Gb3JjZU9ialtSRUFDVElPTlRZUEUuTEVGVFJFQUNUSU9OXSA9IG1vbWVudHVtUmlnaHRSZWFjdGlvbiAvIGJlYW1PYmouX2Rpc3RhbmNlQmV0d2VlblJlYWN0aW9uc19MO1xyXG4gICAgICAgIHJlYWN0aW9uRm9yY2VPYmpbUkVBQ1RJT05UWVBFLlJJR0hUUkVBQ1RJT05dID0gbW9tZW50dW1MZWZ0UmVhY3Rpb24gLyBiZWFtT2JqLl9kaXN0YW5jZUJldHdlZW5SZWFjdGlvbnNfTDtcclxuXHJcblxyXG4gICAgICAgIHJldHVybiByZWFjdGlvbkZvcmNlT2JqO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIHRoaXMgZnVuY3Rpb24gY2FsY3VsYXRlcyBiZW5kaW5nIG1vbWVudCBleGlzdGluZyBvbiBhIGJlYW0gKi9cclxuICAgIHByaXZhdGUgY2FsY3VsYXRlQmVuZGluZ01vbWVudChiZWFtT2JqOiBhbnkpIHtcclxuICAgICAgICBjb25zdCByZWZlcmVuY2VQb2ludE9iajogYW55ID0gdGhpcy5nZXRSZWZyZW5jZVBvaW50KGJlYW1PYmopO1xyXG4gICAgICAgIGNvbnN0IGJlbmRpbmdNb21lbnRPYmo6IGFueSA9IHRoaXMuZ2V0QmVuZGluZ01vbWVudChiZWFtT2JqLCByZWZlcmVuY2VQb2ludE9iaik7XHJcbiAgICAgICAgYmVhbU9iai5fYmVuZGluZ01vbWVudHMuX2JlbmRpbmdNb21lbnRMZWZ0ID0gYmVuZGluZ01vbWVudE9ialtCRU5ESU5HTU9NRU5ULkxFRlRCRU5ESU5HTU9NRU5UXTtcclxuICAgICAgICBiZWFtT2JqLl9iZW5kaW5nTW9tZW50cy5fYmVuZGluZ01vbWVudFJpZ2h0ID0gYmVuZGluZ01vbWVudE9ialtCRU5ESU5HTU9NRU5ULlJJR0hUQkVORElOR01PTUVOVF07XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRCZW5kaW5nTW9tZW50KGJlYW1PYmo6IGFueSwgcmVmZXJlbmNlUG9pbnRPYmo6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IGJlbmRpbmdNb21lbnRPYmo6IGFueSA9IHt9O1xyXG4gICAgICAgIGxldCBsZWZ0QmVuZGluZ01vbWVudDogbnVtYmVyID1cclxuICAgICAgICB0aGlzLmdldE1vbWVudHVtKGJlYW1PYmouX3JlYWN0aW9ucy5fcmVhY3Rpb25MZWZ0LCByZWZlcmVuY2VQb2ludE9iai5fZGlzdGFuY2VMZWZ0X2EpO1xyXG4gICAgICAgIGxldCByaWdodEJlbmRpbmdNb21lbnQ6IG51bWJlciA9XHJcbiAgICAgICAgdGhpcy5nZXRNb21lbnR1bShiZWFtT2JqLl9yZWFjdGlvbnMuX3JlYWN0aW9uUmlnaHQsIHJlZmVyZW5jZVBvaW50T2JqLl9kaXN0YW5jZVJpZ2h0X2IpO1xyXG4gICAgICAgIGNvbnN0IHJlZmVyZW5jZVBvaW50SW5kZXg6IG51bWJlciA9IHJlZmVyZW5jZVBvaW50T2JqLl9yYW5rIC0gMTtcclxuICAgICAgICBiZWFtT2JqLl9tYWNoaW5lTG9hZFBvaW50cy5mb3JFYWNoKChsb2FkcG9pbnRPYmo6IGFueSwgaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPCByZWZlcmVuY2VQb2ludEluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICBsZWZ0QmVuZGluZ01vbWVudCA9IGxlZnRCZW5kaW5nTW9tZW50IC1cclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0TW9tZW50dW0obG9hZHBvaW50T2JqLl90b3RhbExvYWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlUG9pbnRPYmouX2Rpc3RhbmNlTGVmdF9hIC0gbG9hZHBvaW50T2JqLl9kaXN0YW5jZUxlZnRfYSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPiByZWZlcmVuY2VQb2ludEluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICByaWdodEJlbmRpbmdNb21lbnQgPSByaWdodEJlbmRpbmdNb21lbnQgLVxyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRNb21lbnR1bShsb2FkcG9pbnRPYmouX3RvdGFsTG9hZCxcclxuICAgICAgICAgICAgICAgICAgICBsb2FkcG9pbnRPYmouX2Rpc3RhbmNlTGVmdF9hIC0gcmVmZXJlbmNlUG9pbnRPYmouX2Rpc3RhbmNlTGVmdF9hKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBiZW5kaW5nTW9tZW50T2JqW0JFTkRJTkdNT01FTlQuTEVGVEJFTkRJTkdNT01FTlRdID0gbGVmdEJlbmRpbmdNb21lbnQ7XHJcbiAgICAgICAgYmVuZGluZ01vbWVudE9ialtCRU5ESU5HTU9NRU5ULlJJR0hUQkVORElOR01PTUVOVF0gPSByaWdodEJlbmRpbmdNb21lbnQ7XHJcbiAgICAgICAgcmV0dXJuIGJlbmRpbmdNb21lbnRPYmo7XHJcbiAgICB9XHJcblxyXG4gICAgLyogVGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSByZWZlcmVuY2UgbG9hZCBwb2ludCxcclxuICAgICB3aXRoIHJlc3BlY3QgdG8gd2hpY2ggd2UgbmVlZCB0byBjYWxjdWxhdGUgbW9tZW50dW0gb2Ygb3RoZXIgbG9hZHMgZXhpc3Rpbmcgb24gdGhlIGJlYW0qL1xyXG4gICAgcHJpdmF0ZSBnZXRSZWZyZW5jZVBvaW50KGJlYW1PYmo6IGFueSkge1xyXG4gICAgICAgIGxldCBzdW1Ub3RhbExvYWQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgY29uc3QgcmVmZXJlbmNlUG9pbnRPYmo6IGFueSA9IGJlYW1PYmouX21hY2hpbmVMb2FkUG9pbnRzLmZpbmQoKGxvYWRQb2ludE9iajogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIHN1bVRvdGFsTG9hZCA9IHN1bVRvdGFsTG9hZCArIGxvYWRQb2ludE9iai5fdG90YWxMb2FkO1xyXG4gICAgICAgICAgICBpZiAoYmVhbU9iai5fcmVhY3Rpb25zLl9yZWFjdGlvbkxlZnQgPD0gc3VtVG90YWxMb2FkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZWZlcmVuY2VQb2ludE9iajtcclxuICAgIH1cclxuXHJcbiAgICAvKiBUaGlzIGZ1bmN0aW9uIGNhbGN1bGF0ZXMgdGhlIHJlcXVpcmVkIHNlY3Rpb24gbW9kdWx1cyBvZiBhIGJlYW0gKi9cclxuICAgIHByaXZhdGUgY2FsY3VsYXRlQmVhbVNlY3Rpb25Nb2R1bHVzKGJlYW1PYmo6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IHJlcXVpcmVkQmVhbVNlY3Rpb25Nb2R1bHVzOiBudW1iZXIgPVxyXG4gICAgICAgIHRoaXMuZ2V0UmVxU2VjdGlvbk1vZHVsdXMoYmVhbU9iai5fYmVuZGluZ01vbWVudHMuX2JlbmRpbmdNb21lbnRMZWZ0LFxyXG4gICAgICAgICAgICBiZWFtT2JqLl9iZW5kaW5nTW9tZW50cy5fYmVuZGluZ01vbWVudFJpZ2h0KTtcclxuICAgICAgICBiZWFtT2JqLl9yZXF1aXJlZFNlY3Rpb25Nb2R1bHVzX1p1ID0gcmVxdWlyZWRCZWFtU2VjdGlvbk1vZHVsdXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyogQ2FsY3VsYXRlcyBtYXhpbXVtIGJlbmRpbmcgbW9tZW50IHJldWlyZWQgZm9yIHNlbGVjdGlvbiBvZiBiZWFtICovXHJcbiAgICBwcml2YXRlIGNhbGN1bGF0ZU1heFJlcVNlY3Rpb25Nb2R1bHVzKCkge1xyXG4gICAgICAgIGxldCBtYXhpbXVtUmVxdWlyZWRTZWN0aW9uTW9kdWx1czogbnVtYmVyID0gMDtcclxuICAgICAgICB0aGlzLmNhbGNEYXRhLl9iZWFtUGFyYW1zLmZvckVhY2goKGJlYW1PYmo6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAobWF4aW11bVJlcXVpcmVkU2VjdGlvbk1vZHVsdXMgPCBiZWFtT2JqLl9yZXF1aXJlZFNlY3Rpb25Nb2R1bHVzX1p1KSB7XHJcbiAgICAgICAgICAgICAgICBtYXhpbXVtUmVxdWlyZWRTZWN0aW9uTW9kdWx1cyA9IGJlYW1PYmouX3JlcXVpcmVkU2VjdGlvbk1vZHVsdXNfWnU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmNhbGNEYXRhLl9tYXhpbXVtUmVxdWlyZWRTZWN0aW9uTW9kdWx1c19adSA9IG1heGltdW1SZXF1aXJlZFNlY3Rpb25Nb2R1bHVzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIFRoaXMgZnVuY3Rpb24gY2FsY3VsYXRlcyB0aGUgcmVxdWlyZWQgc2VjdGlvbiBtb2R1bHVzIG9mIGEgYmVhbSAqL1xyXG4gICAgcHJpdmF0ZSBnZXRSZXFTZWN0aW9uTW9kdWx1cyguLi5iZW5kaW5nTW9tZW50czogbnVtYmVyW10pIHtcclxuICAgICAgICBsZXQgcmVxdWlyZWRTZWN0aW9uTW9kdWx1czogbnVtYmVyID0gMDtcclxuICAgICAgICBjb25zdCBtYXhpbXVtQmVuZGluZ01vbWVudDogbnVtYmVyID0gTWF0aC5tYXgoLi4uYmVuZGluZ01vbWVudHMpO1xyXG4gICAgICAgIGlmICh0aGlzLmNhbGNEYXRhLl9iZWFtVHlwZSA9PT0gQkVBTV9UWVBFLk5FVykge1xyXG4gICAgICAgICAgICByZXF1aXJlZFNlY3Rpb25Nb2R1bHVzID0gbWF4aW11bUJlbmRpbmdNb21lbnQgLyBDT05TVEFOVFMuRkFDVE9SX1pVX05FV19CRUFNUztcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2FsY0RhdGEuX2JlYW1UeXBlID09PSBCRUFNX1RZUEUuRVhJU1RJTkcpIHtcclxuICAgICAgICAgICAgcmVxdWlyZWRTZWN0aW9uTW9kdWx1cyA9IG1heGltdW1CZW5kaW5nTW9tZW50IC8gQ09OU1RBTlRTLkZBQ1RPUl9aVV9FWElTVElOR19CRUFNUztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcXVpcmVkU2VjdGlvbk1vZHVsdXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyogVGhpcyBmdW5jdGlvbiBjYWxjdWxhdGVzIG1heGltdW0gZGVmbGVjdGlvbiBvZiBhIGJlYW0gKi9cclxuICAgIHByaXZhdGUgY2FsY3VsYXRlTWF4aW11bURlZmxlY3Rpb24oYmVhbU9iajogYW55KSB7XHJcbiAgICAgICAgYmVhbU9iai5fbWF4aW11bURlZmxlY3Rpb24gPSAoYmVhbU9iai5fZGlzdGFuY2VCZXR3ZWVuUmVhY3Rpb25zX0wpIC8gQ09OU1RBTlRTLkZBQ1RPUl9NQVhfREVGTEVDVElPTjtcclxuICAgIH1cclxuXHJcbiAgICAvKiBUaGlzIGZ1bmN0aW9uIGNhbGN1bGF0ZXMgZGlzdGFuY2UgYmV0d2VlbiBwb2ludCBsb2FkIGFuZCByaWdodCByZWFjdGlvbiBwb2ludCBvZiBhIGJlYW0gKi9cclxuICAgIHByaXZhdGUgY2FsY3VsYXRlUG9pbnREaXN0YW5jZShsZW5ndGg6IG51bWJlciwgbG9hZFBvaW50T2JqOiBhbnkpIHtcclxuICAgICAgICBsb2FkUG9pbnRPYmouX2Rpc3RhbmNlUmlnaHRfYiA9IGxlbmd0aCAtIGxvYWRQb2ludE9iai5fZGlzdGFuY2VMZWZ0X2E7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjYWxjdWxhdGVWYWx1ZVYxKGxvYWRQb2ludE9iajogYW55KSB7XHJcbiAgICAgICAgLy8gdmFsID0gYipzcXJ0KDEvMysoMiphLzMqYikpXHJcbiAgICAgICAgbGV0IHZhbHVlVjE6IG51bWJlciA9IDA7XHJcbiAgICAgICAgdmFsdWVWMSA9IGxvYWRQb2ludE9iai5fZGlzdGFuY2VSaWdodF9iICpcclxuICAgICAgICAgICAgKE1hdGguc3FydCgoMSAvIDMpICtcclxuICAgICAgICAgICAgICAgICgoMiAqIGxvYWRQb2ludE9iai5fZGlzdGFuY2VMZWZ0X2EpIC8gKDMgKiBsb2FkUG9pbnRPYmouX2Rpc3RhbmNlUmlnaHRfYikpKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIGxvYWRQb2ludE9iai5fdmFsdWVWMSA9IHZhbHVlVjE7XHJcbiAgICB9XHJcblxyXG4gICAgLyogVGhpcyBmdW5jdGlvbiBjYWxjdWxhdGVzIHRoZSBzZWxlY3Rpb24gc3RhdHVzIG9mIGlucHV0IHN0ZWVsIGJlYW1zLFxyXG4gICAgYmFzZWQgb24gdGhlIHZhbHVlIG9mIHJlYWN0aW9uIGZvcmNlIGFuZCBkZWZsZWN0aW9uLCBleGlzdGluZyBvbiBhIGJlYW0qL1xyXG4gICAgcHJpdmF0ZSBzdGVlbENhbGN1bGF0aW9ucygpIHtcclxuICAgICAgICBTdGVlbExpYnJhcnkuZm9yRWFjaCgoc3RlZWxMaWJNZW1iZXI6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzdGVlbE9iajogYW55ID0ge307XHJcbiAgICAgICAgICAgIHN0ZWVsT2JqLl9zdGVlbExhYmVsID0gc3RlZWxMaWJNZW1iZXIuc3RlZWxMYWJlbDtcclxuICAgICAgICAgICAgc3RlZWxPYmouX3N0ZWVsTWV0YSA9IHRoaXMuZ2V0U3RlZWxNZXRhRGF0YShzdGVlbExpYk1lbWJlcik7XHJcbiAgICAgICAgICAgIHN0ZWVsT2JqLl9jYWxjdWxhdGlvbnMgPSB7fTtcclxuICAgICAgICAgICAgc3RlZWxPYmouX2NhbGN1bGF0aW9ucy5fc2VjdGlvbk1vZHVsdXNTdGF0dXMgPSBcclxuICAgICAgICAgICAgdGhpcy5nZXRTdGVlbFN0YXR1cyh0aGlzLmNhbGNEYXRhLl9tYXhpbXVtUmVxdWlyZWRTZWN0aW9uTW9kdWx1c19adSwgXHJcbiAgICAgICAgICAgICAgICBzdGVlbExpYk1lbWJlci5zZWN0aW9uTW9kdWx1c19adSk7XHJcbiAgICAgICAgICAgIHN0ZWVsT2JqLl9jYWxjdWxhdGlvbnMuX2RlZmxlY3Rpb25TdGF0dXMgPSB0aGlzLmdldFN0ZWVsRGVmbGVjdGlvblN0YXR1cyhzdGVlbExpYk1lbWJlcik7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsY0RhdGEuX3N0ZWVsTGlicmFyeU1lbWJlcnMucHVzaChzdGVlbE9iaik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyogVGhpcyBmdW5jdGlvbiBjYWxjdWxhdGVzIG1ldGEgZGF0YSBvZiBpbnB1dCBzdGVlbCBiZWFtICovXHJcbiAgICBwcml2YXRlIGdldFN0ZWVsTWV0YURhdGEoc3RlZWxPYmo6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IHN0ZWVsTWV0YURhdGE6IGFueSA9IHt9O1xyXG4gICAgICAgIHN0ZWVsTWV0YURhdGEuX3NlY3Rpb25Nb2R1bHVzX1p1ID0gc3RlZWxPYmouc2VjdGlvbk1vZHVsdXNfWnU7XHJcbiAgICAgICAgc3RlZWxNZXRhRGF0YS5fbW9tZW50b2ZJbmVydGlhX0kgPSBzdGVlbE9iai5tb21lbnRPZkluZXJ0aWFfSTtcclxuICAgICAgICBzdGVlbE1ldGFEYXRhLl9zaGFwZSA9IHRoaXMuZ2V0U3RlZWxTaGFwZShzdGVlbE9iaik7XHJcbiAgICAgICAgcmV0dXJuIHN0ZWVsTWV0YURhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgLyogVGhpcyBmdW5jdGlvbiBjYWxjdWxhdGVzIHNoYXBlLCBoZWlnaHQgYW5kIHdlaWdodCBwZXIgdW5pdCBsZW5ndGggb2YgaW5wdXQgc3RlZWwgYmVhbSAqL1xyXG4gICAgcHJpdmF0ZSBnZXRTdGVlbFNoYXBlKHN0ZWVsT2JqOiBhbnkpIHtcclxuICAgICAgICBjb25zdCBzdGVlbFNoYXBlOiBhbnkgPSB7fTtcclxuICAgICAgICBzdGVlbFNoYXBlLl90eXBlID0gc3RlZWxPYmouU2hhcGU7XHJcbiAgICAgICAgc3RlZWxTaGFwZS5faGVpZ2h0ID0gc3RlZWxPYmouaGVpZ2h0O1xyXG4gICAgICAgIHN0ZWVsU2hhcGUuX3dlaWdodFBlclVuaXRMZW5ndGggPSBzdGVlbE9iai53ZWlnaHRQZXJVbml0TGVuZ3RoO1xyXG4gICAgICAgIHJldHVybiBzdGVlbFNoYXBlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIFRoaXMgZnVuY3Rpb24gY2FsY3VsYXRlcyBzZWxlY3Rpb24gc3RhdHVzIG9mIGlucHV0IHN0ZWVsIGJlYW0sXHJcbiAgICAgdXNpbmcgZGVmbGVjdGlvbiBvZiBhIGJlYW0gKi9cclxuICAgIHByaXZhdGUgZ2V0U3RlZWxEZWZsZWN0aW9uU3RhdHVzKHN0ZWVsT2JqOiBhbnkpIHtcclxuICAgICAgICBjb25zdCBkZWZsZWN0aW9uU3RhdHVzQXJyYXk6IGFueVtdID0gW107XHJcbiAgICAgICAgdGhpcy5jYWxjRGF0YS5fYmVhbVBhcmFtcy5mb3JFYWNoKChiZWFtT2JqOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5tZXJnZUVxdWFsUmFua1BvaW50cyhiZWFtT2JqKTtcclxuICAgICAgICAgICAgY29uc3QgZGVmbGVjdGlvblN0YXR1c09iajogYW55ID0gdGhpcy5nZXREZWZsZWN0aW9uU3RhdHVzKHN0ZWVsT2JqLCBiZWFtT2JqKTtcclxuICAgICAgICAgICAgaWYgKGRlZmxlY3Rpb25TdGF0dXNPYmopIHtcclxuICAgICAgICAgICAgICAgIGRlZmxlY3Rpb25TdGF0dXNBcnJheS5wdXNoKGRlZmxlY3Rpb25TdGF0dXNPYmopO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGRlZmxlY3Rpb25TdGF0dXNBcnJheTtcclxuICAgIH1cclxuXHJcbiAgICAvKiBUaGlzIGZ1bmN0aW9uIG1lcmdlcyBsb2FkIHBvaW50cyxcclxuICAgICB3aGljaCBleGlzdHMgYXQgc2FtZSBkaXN0YW5jZSBmcm9tIGxlZnQgcmVhY3Rpb24gcG9pbnQgb2YgYSBiZWFtICovXHJcbiAgICBwcml2YXRlIG1lcmdlRXF1YWxSYW5rUG9pbnRzKGJlYW1PYmo6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nUG9pbnQ6IGFueSA9IHt9O1xyXG4gICAgICAgIGJlYW1PYmouX21hY2hpbmVMb2FkUG9pbnRzLmZvckVhY2goKGxvYWRQb2ludDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChleGlzdGluZ1BvaW50W2xvYWRQb2ludC5fZGlzdGFuY2VMZWZ0X2FdKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlcXVhbFJhbmtQb2ludE9iajogYW55ID0gZXhpc3RpbmdQb2ludFtsb2FkUG9pbnQuX2Rpc3RhbmNlTGVmdF9hXTtcclxuXHJcbiAgICAgICAgICAgICAgICAvKiBBZGRpbmcgbG9hZHMgb2YgcG9pbnQgZXhpc3RpbmcgYXQgc2FtZSBsb2NhdGlvbiAqL1xyXG4gICAgICAgICAgICAgICAgZXF1YWxSYW5rUG9pbnRPYmouX2xpdmVMb2FkID0gZXF1YWxSYW5rUG9pbnRPYmouX2xpdmVMb2FkICsgbG9hZFBvaW50Ll9saXZlTG9hZDtcclxuICAgICAgICAgICAgICAgIGVxdWFsUmFua1BvaW50T2JqLl9kZWFkTG9hZCA9IGVxdWFsUmFua1BvaW50T2JqLl9kZWFkTG9hZCArIGxvYWRQb2ludC5fZGVhZExvYWQ7XHJcbiAgICAgICAgICAgICAgICBlcXVhbFJhbmtQb2ludE9iai5fdG90YWxMb2FkID0gZXF1YWxSYW5rUG9pbnRPYmouX3RvdGFsTG9hZCArIGxvYWRQb2ludC5fdG90YWxMb2FkO1xyXG4gICAgICAgICAgICAgICAgZXF1YWxSYW5rUG9pbnRPYmouX3N0YXRpY0xvYWQgPSBlcXVhbFJhbmtQb2ludE9iai5fc3RhdGljTG9hZCArIGxvYWRQb2ludC5fc3RhdGljTG9hZDtcclxuXHJcbiAgICAgICAgICAgICAgICAvKiBSZW1vdmluZyBtZXJnZWQgbG9hZCBwb2ludCBmcm9tIGJlYW0gKi9cclxuICAgICAgICAgICAgICAgIGxvYWRQb2ludC5fbGl2ZUxvYWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgbG9hZFBvaW50Ll9kZWFkTG9hZCA9IDA7XHJcbiAgICAgICAgICAgICAgICBsb2FkUG9pbnQuX3RvdGFsTG9hZCA9IDA7XHJcbiAgICAgICAgICAgICAgICBsb2FkUG9pbnQuX3N0YXRpY0xvYWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgbG9hZFBvaW50Ll9kaXN0YW5jZUxlZnRfYSA9IDA7XHJcbiAgICAgICAgICAgICAgICBsb2FkUG9pbnQuX2Rpc3RhbmNlUmlnaHRfYiA9IGJlYW1PYmouX2Rpc3RhbmNlQmV0d2VlblJlYWN0aW9uc19MO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVWYWx1ZVYxKGxvYWRQb2ludCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBleGlzdGluZ1BvaW50W2xvYWRQb2ludC5fZGlzdGFuY2VMZWZ0X2FdID0gbG9hZFBvaW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0RGVmbGVjdGlvblN0YXR1cyhzdGVlbE9iajogYW55LCBiZWFtT2JqOiBhbnkpIHtcclxuICAgICAgICBjb25zdCBkZWZsZWN0aW9uU3RhdHVzT2JqOiBhbnkgPSB7fTtcclxuICAgICAgICBkZWZsZWN0aW9uU3RhdHVzT2JqLl9iZWFtSW5kZXggPSBiZWFtT2JqLl9iZWFtSW5kZXg7XHJcbiAgICAgICAgZGVmbGVjdGlvblN0YXR1c09iai5fcG9pbnREZWZsZWN0aW9uID0gdGhpcy5nZXRQb2ludHNEZWZsZWN0aW9uKHN0ZWVsT2JqLCBiZWFtT2JqKTtcclxuICAgICAgICBkZWZsZWN0aW9uU3RhdHVzT2JqLl90b3RhbERlZmxlY3Rpb24gPSB0aGlzLmdldFRvdGFsRGVmbGVjdGlvbihkZWZsZWN0aW9uU3RhdHVzT2JqKTtcclxuICAgICAgICBkZWZsZWN0aW9uU3RhdHVzT2JqLl9zdGF0dXMgPSBcclxuICAgICAgICB0aGlzLmdldFN0ZWVsU3RhdHVzKGRlZmxlY3Rpb25TdGF0dXNPYmouX3RvdGFsRGVmbGVjdGlvbiwgXHJcbiAgICAgICAgICAgIGJlYW1PYmouX21heGltdW1EZWZsZWN0aW9uKTtcclxuICAgICAgICByZXR1cm4gZGVmbGVjdGlvblN0YXR1c09iajtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFBvaW50c0RlZmxlY3Rpb24oc3RlZWxPYmo6IGFueSwgYmVhbU9iajogYW55KSB7XHJcbiAgICAgICAgY29uc3QgcG9pbnREZWZsZWN0aW9uQXJyYXk6IGFueVtdID0gW107XHJcbiAgICAgICAgYmVhbU9iai5fbWFjaGluZUxvYWRQb2ludHMuZm9yRWFjaCgobG9hZFBvaW50T2JqOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcG9pbnREZWZsZWN0aW9uT2JqOiBhbnkgPSB0aGlzLmdldFBvaW50RGVmbGVjdGlvbihzdGVlbE9iaiwgbG9hZFBvaW50T2JqKTtcclxuICAgICAgICAgICAgaWYgKHBvaW50RGVmbGVjdGlvbk9iaikge1xyXG4gICAgICAgICAgICAgICAgcG9pbnREZWZsZWN0aW9uQXJyYXkucHVzaChwb2ludERlZmxlY3Rpb25PYmopO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHBvaW50RGVmbGVjdGlvbkFycmF5O1xyXG4gICAgfVxyXG5cclxuICAgIC8qIFRoaXMgZnVuY3Rpb24gY2FsY3VsYXRlcyB0b3RhbCBkZWZsZWN0aW9uIG9mIGEgYmVhbSBkdWUgdG8gYWxsIGxvYWQgcG9pbnRzIGV4aXN0aW5nIG9uIGEgYmVhbSovXHJcbiAgICBwcml2YXRlIGdldFRvdGFsRGVmbGVjdGlvbihkZWZsZWN0aW9uU3RhdHVzT2JqOiBhbnkpIHtcclxuICAgICAgICBsZXQgdG90YWxEZWZsZWN0aW9uOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGRlZmxlY3Rpb25TdGF0dXNPYmouX3BvaW50RGVmbGVjdGlvbi5mb3JFYWNoKChwb2ludERlZmxlY3Rpb246IGFueSkgPT4ge1xyXG4gICAgICAgICAgICB0b3RhbERlZmxlY3Rpb24gPSB0b3RhbERlZmxlY3Rpb24gKyBwb2ludERlZmxlY3Rpb24uX2RlZmxlY3Rpb247XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRvdGFsRGVmbGVjdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFBvaW50RGVmbGVjdGlvbihzdGVlbE9iajogYW55LCBsb2FkUG9pbnRPYmo6IGFueSkge1xyXG4gICAgICAgIGxldCBwb2ludERlZmxlY3Rpb246IG51bWJlciA9IDA7XHJcbiAgICAgICAgY29uc3QgcG9pbnREZWZsZWN0aW9uT2JqOiBhbnkgPSB7fTtcclxuICAgICAgICBwb2ludERlZmxlY3Rpb25PYmouX3JhbmsgPSBsb2FkUG9pbnRPYmouX3Jhbms7XHJcbiAgICAgICAgcG9pbnREZWZsZWN0aW9uID0gKChsb2FkUG9pbnRPYmouX3N0YXRpY0xvYWQgKyBsb2FkUG9pbnRPYmouX2RlYWRMb2FkKSAqXHJcbiAgICAgICAgICAgICAgICAgICAgKGxvYWRQb2ludE9iai5fZGlzdGFuY2VMZWZ0X2EpICogTWF0aC5wb3cobG9hZFBvaW50T2JqLl92YWx1ZVYxLCAzKSkgL1xyXG4gICAgICAgICAgICAgICAgICAgICgzICogQ09OU1RBTlRTLk1PRFVMVVNfT0ZfRUxBU1RJQ0lUWSAqIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZFBvaW50T2JqLl9kaXN0YW5jZUxlZnRfYSArIGxvYWRQb2ludE9iai5fZGlzdGFuY2VSaWdodF9iXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAqIHN0ZWVsT2JqLm1vbWVudE9mSW5lcnRpYV9JKTtcclxuICAgICAgICBwb2ludERlZmxlY3Rpb25PYmouX2RlZmxlY3Rpb24gPSBwb2ludERlZmxlY3Rpb247XHJcbiAgICAgICAgcmV0dXJuIHBvaW50RGVmbGVjdGlvbk9iajtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFN0ZWVsU3RhdHVzKHJlcXVpcmVkVmFsdWU6IG51bWJlciwgcmVmZXJlbmNlZFZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICBpZiAocmVxdWlyZWRWYWx1ZSA+IHJlZmVyZW5jZWRWYWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQkVBTV9TVEFUVVMuTk87XHJcbiAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgICAgQ09OU1RBTlRTLkJPUkRFUkxJTkVfTE9XRVJfTElNSVQgPFxyXG4gICAgICAgICAgICAocmVxdWlyZWRWYWx1ZSAvIHJlZmVyZW5jZWRWYWx1ZSkgJiYgKHJlcXVpcmVkVmFsdWUgLyByZWZlcmVuY2VkVmFsdWUpIDxcclxuICAgICAgICAgICAgQ09OU1RBTlRTLkJPUkRFUkxJTkVfVVBQRVJfTElNSVQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJFQU1fU1RBVFVTLkJPUkRFUkxJTkU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJFQU1fU1RBVFVTLllFUztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgcm91bmRVcHRvRGVjaW1hbFBsYWNlKGRhdGE6IG51bWJlciwgbnVtYmVyT2ZEZWNpbWFsUGxhY2VzOiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgcm91bmRlZERhdGE6IG51bWJlciA9IDA7XHJcbiAgICAgICAgaWYgKGRhdGEgJiYgbnVtYmVyT2ZEZWNpbWFsUGxhY2VzID49IDApIHtcclxuICAgICAgICAgICAgcm91bmRlZERhdGEgPSBwYXJzZUludChkYXRhLnRvRml4ZWQobnVtYmVyT2ZEZWNpbWFsUGxhY2VzKSwgMTApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcm91bmRlZERhdGE7XHJcbiAgICB9XHJcblxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/three-beam-calc-module.ts\n");

/***/ })

/******/ });
});